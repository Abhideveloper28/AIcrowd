<%= form_with url: path, local: true, method: :get, enforce_utf8: false, data: {controller: "publications" }, class: 'filter-dropdown-form col-12', id: 'filterForm' do |f| %>
  

    # <div class="pr-2 d-none" >
    #   <div class="dropdown">
    #     <div aria-expanded="false" aria-haspopup="true"
    #          class="filter dropdown-toggle  <% if params[:categories].present? %>filter-active<% end %>" data-toggle="dropdown"
    #          id="publication-categories"
    #          style="width: 100%;">
    #       Tags <i class="fa fa-chevron-down float-right py-1"></i>
    #     </div>
    #     <div class="dropdown-menu form-dropdown">
    #       <% @categories.uniq.sort.each do |category| %>
    #         <div class="form-check">
    #           <%= label_tag do %>
    #             <%= f.check_box :category, { checked: check_selected_category(category), class: 'form-check-input' }, category.name %>
    #             <%= category.name %>
    #           <% end %>
    #         </div>
    #       <% end %>
    #     </div>
    #   </div>
    # </div>


    <div class="col-lg-9 col-md-6 col-sm-6 col-xs-12 d-flex publication-drop" >
      <div class="dropdown">
        <div aria-expanded="false" aria-haspopup="true" class="filter dropdown-toggle  <% if params[:years].present? %>filter-active<% end %>"
             data-toggle="dropdown" id="publication-years" style="width: 100%;">
          Year <i class="fa fa-chevron-down float-right pl-2 py-0.5 mr-auto" style="margin-top:2px"></i>
        </div>
        <div class="dropdown-menu form-dropdown">
          <% @years.uniq.sort.each do |year| %>
            <div class="form-check">
              <%= label_tag do %>
                <%= f.check_box :year, { checked: check_selected_year(year), class: 'form-check-input' }, year %>
                <%= year %>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>




      <div class="dropdown">
        <div aria-expanded="false" aria-haspopup="true" class="filter dropdown-toggle  <% if params[:venues].present? %>filter-active<% end %>"
             data-toggle="dropdown" id="publication-venues" style="width: 100%;">
          Venue <i class="fa fa-chevron-down float-right pl-2 mr-auto" style="margin-top:2px"></i>
        </div>
        <div class="dropdown-menu form-dropdown">
          <% @venues.sort.uniq.each do |venue| %>
            <div class="form-check">
              <%= label_tag do %>
                <%= f.check_box :venue, { checked: check_selected_venue(venue), class: 'form-check-input' }, venue %>
                <%= venue %>
              <% end %>
            </div>
          <% end %>
        </div>

      </div>
  </div>    
  

  <div class="col-lg-3 col-md-6 col-sm-6 col-xs-12">
    <div class="d-flex filter-btn mr-0" 
      <div class="ml-2">
        <input class="btn btn-red-submit mt-0 btn-sm" data-action="click->publications#filterUrl" data-disable-with="Apply"
             type="submit" value="Apply Filters">
      </div>
      <div class="ml-2">
        <input class="btn btn-sm btn-white-submit mt-0" data-action="click->publications#clearFilter" data-disable-with="Clear"
             type="reset" value="Clear Filters">
      </div>
    </div>
  </div>


<% end %>
